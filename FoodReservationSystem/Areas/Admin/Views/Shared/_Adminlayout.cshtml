@{
    Layout = null;
    var adminName = "مدیر سامانه";
}

<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>@ViewData["Title"] - بخش مدیریت سامانه رزرو غذا</title>
    <link rel="stylesheet" href="~/css/admin-layout.css?v=@DateTime.Now.Ticks" />
</head>
<body>

    <header class="topbar">
        <div class="left">
            <button id="toggleSidebar" class="menu-btn">
                ☰
            </button>
            <span class="system-title">پنل مدیریت سامانه رزرو غذا</span>
        </div>

        <div class="right">
            👤 <span>@adminName</span>
        </div>
    </header>

    <aside id="sidebar" class="sidebar">
        <ul>
            <li>
                <button class="submenu-toggle">
                    👥 <span>کاربران</span>
                    <svg class="arrow" viewBox="0 0 24 24"><path d="M9 5l7 7-7 7" stroke="currentColor" stroke-width="2" fill="none"/></svg>
                </button>
                <ul class="submenu">
                    <li><a href="/Admin/User/Index">📋 لیست دانشجویان</a></li>
                    <li><a href="/Admin/User/Register">➕ ثبت دانشجوی جدید</a></li>
                </ul>
            </li>

            <li>
                <button class="submenu-toggle">
                    🍽️ <span>غذا</span>
                    <svg class="arrow" viewBox="0 0 24 24"><path d="M9 5l7 7-7 7" stroke="currentColor" stroke-width="2" fill="none"/></svg>
                </button>
                <ul class="submenu">
                    <li><a href="/Admin/Food/Index">📋 لیست غذاها</a></li>
                    <li><a href="/Admin/Food/Register">➕ ثبت غذای جدید</a></li>
                </ul>
            </li>

            <li><a href="/Admin/FoodSchedule/Index">🗓️ تعریف برنامه غذایی</a></li>
            <li><a href="/Admin/Order/Index">🧾 سفارشات</a></li>
        </ul>
    </aside>

    <main id="mainContent" class="content">
        @RenderBody()
    </main>

    <script>
        const sidebar = document.getElementById('sidebar');
        const toggleBtn = document.getElementById('toggleSidebar');
        toggleBtn.addEventListener('click', () => {
            sidebar.classList.toggle('collapsed');
        });

        document.querySelectorAll('.submenu-toggle').forEach(btn => {
            btn.addEventListener('click', () => {
                const submenu = btn.nextElementSibling;
                submenu.classList.toggle('open');
                btn.querySelector('.arrow').classList.toggle('rotated');
            });
        });
    </script>

    @RenderSection("Scripts", required: false)
</body>
</html>
